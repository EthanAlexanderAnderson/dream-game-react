{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Ethan/Desktop/Dream Game Site/v4/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Ethan/Desktop/Dream Game Site/v4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import io from'socket.io-client';//import Buffer from 'buffer';\n//import Crypto from 'crypto';\n//import Redis from 'redis';\nimport{useEffect,useState}from\"react\";import NameButtons from'./nameButtons';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var socket=io.connect(\"http://localhost:3001\");function App(){// states\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),messageReceived=_useState4[0],setMessageReceived=_useState4[1];var _useState5=useState(\"Welcome to Dream Game.\\nPlease select your name:\"),_useState6=_slicedToArray(_useState5,2),textSection=_useState6[0],setTextSection=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),status=_useState10[0],setStatus=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),players=_useState12[0],setPlayers=_useState12[1];//const [myGuess, setMyGuess] = useState(\"\");\nvar myGuess=\"\";var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),guessed=_useState14[0],setGuessed=_useState14[1];//const [dreamer, setDreamer] = useState(\"\");\nvar dreamer=\"\";// player come online\nvar playerJoin=function playerJoin(data){// set name on user\nsetName(data);// update player list on user\nsetPlayers(function(previous){return[].concat(_toConsumableArray(previous),[data]);});// update player list on peers\nsocket.emit(\"player_join_u\",{data:data});};// start round\nvar start=function start(){socket.emit(\"get_random_dream_u\");};// player guesses\nvar guess=function guess(data){//console.log(data);\n//setMyGuess(data);\nmyGuess=data;console.log(myGuess);socket.emit(\"guess_u\",name);};// send message to socket\nvar sendMessage=function sendMessage(){socket.emit(\"send_message\",{message:message,name:name});};var end=function end(){console.log(\"asdasdasdada \"+myGuess);};// receive from socket\nuseEffect(function(myGuess){socket.on(\"receive_message\",function(data){var message=data.message;var name=data.name;setMessageReceived(name+\": \"+message);});socket.on(\"player_join_d\",function(data){setPlayers(function(previous){return[].concat(_toConsumableArray(previous),[data.data]);});});socket.on(\"get_random_dream_d\",function(data){setTextSection(data.dream);setStatus(\"during\");//setDreamer(data.dreamer);\ndreamer=data.dreamer;console.log(\"dreamer: \"+data.dreamer);});socket.on(\"guess_d\",function(data){setGuessed(function(previous){return[].concat(_toConsumableArray(previous),[data]);});console.log(\"guessed: \"+data);});socket.on(\"all_guessed\",function(data){if(data.redisResult===data.guess){setTextSection(\"CORRECT\\nANSWER: \"+data.redisResult+\"\\nYou guessed: \"+data.guess);}else{setTextSection(\"INCORRECT\\nANSWER: \"+data.redisResult+\"\\nYou guessed: \"+data.guess);}setStatus(\"after\");});return function(){socket.off(\"player_join_d\");socket.off(\"get_random_dream_d\");socket.off(\"guess_d\");socket.off(\"all_guessed\");};},[socket]);// display\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{whiteSpace:\"pre-line\"},children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Name: \",name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:textSection}),/*#__PURE__*/_jsx(NameButtons,{name:name,playerJoin:playerJoin,status:status,start:start,guess:guess}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Players:\"}),/*#__PURE__*/_jsx(\"div\",{children:players.map(function(item){return/*#__PURE__*/_jsx(\"div\",{children:item});})}),/*#__PURE__*/_jsx(\"h1\",{children:dreamer})]});}export default App;/*\n\n      <input \n        placeholder=\"Message...\" \n        onChange={(event) => {\n          setMessage(event.target.value);\n        }}\n      />\n      <button onClick={sendMessage}> Send Message</button>\n\n      <h1>Message:</h1>\n      {messageReceived}\n*/","map":{"version":3,"names":["io","useEffect","useState","NameButtons","jsxs","_jsxs","jsx","_jsx","socket","connect","App","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","messageReceived","setMessageReceived","_useState5","_useState6","textSection","setTextSection","_useState7","_useState8","name","setName","_useState9","_useState10","status","setStatus","_useState11","_useState12","players","setPlayers","myGuess","_useState13","_useState14","guessed","setGuessed","dreamer","playerJoin","data","previous","concat","_toConsumableArray","emit","start","guess","console","log","sendMessage","end","on","dream","redisResult","off","className","style","whiteSpace","children","map","item"],"sources":["C:/Users/Ethan/Desktop/Dream Game Site/v4/src/App.js"],"sourcesContent":["import io from 'socket.io-client'\n//import Buffer from 'buffer';\n//import Crypto from 'crypto';\n//import Redis from 'redis';\nimport { useEffect, useState} from \"react\";\nimport NameButtons from './nameButtons';\nconst socket = io.connect(\"http://localhost:3001\")\n\nfunction App() {\n  // states\n  const [message, setMessage] = useState(\"\");\n  const [messageReceived, setMessageReceived] = useState(\"\");\n  const [textSection, setTextSection] = useState(\"Welcome to Dream Game.\\nPlease select your name:\");\n  const [name, setName] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [players, setPlayers] = useState([]);\n  //const [myGuess, setMyGuess] = useState(\"\");\n  let myGuess = \"\";\n  const [guessed, setGuessed] = useState([]);\n  //const [dreamer, setDreamer] = useState(\"\");\n\n  let dreamer = \"\";\n\n  // player come online\n  const playerJoin = (data) => {\n    // set name on user\n    setName(data);\n    // update player list on user\n    setPlayers(previous => [...previous, data])\n    // update player list on peers\n    socket.emit(\"player_join_u\", { data });\n  };\n\n  // start round\n  const start = () => {\n    socket.emit(\"get_random_dream_u\");\n  };\n\n  // player guesses\n  const guess = (data) => {\n    //console.log(data);\n    //setMyGuess(data);\n    myGuess = data;\n    console.log(myGuess);\n    socket.emit(\"guess_u\", name);\n  }\n\n  // send message to socket\n  const sendMessage = () => {\n    socket.emit(\"send_message\", { message, name });\n  }\n\n  const end = () => {\n    console.log(\"asdasdasdada \"+myGuess);\n  };\n\n  // receive from socket\n  useEffect(( myGuess ) => {\n\n    socket.on(\"receive_message\", (data) => {\n      var message = data.message;\n      var name = data.name;\n      setMessageReceived(name + \": \" + message);\n    });\n\n    socket.on(\"player_join_d\", (data) => {\n      setPlayers(previous => [...previous, data.data])\n    });\n\n    socket.on(\"get_random_dream_d\", (data) => {\n      setTextSection(data.dream);\n      setStatus(\"during\");\n      //setDreamer(data.dreamer);\n      dreamer = data.dreamer;\n      console.log(\"dreamer: \" + data.dreamer);\n    });\n\n    socket.on(\"guess_d\", (data) => {\n      setGuessed(previous => [...previous, data]);\n      console.log(\"guessed: \" + data);\n      \n    });\n\n    socket.on(\"all_guessed\", (data) => {\n      if (data.redisResult === data.guess) {\n        setTextSection(\"CORRECT\\nANSWER: \" + data.redisResult + \"\\nYou guessed: \" + data.guess);\n      } else {\n        setTextSection(\"INCORRECT\\nANSWER: \" + data.redisResult + \"\\nYou guessed: \" + data.guess);\n      }\n      setStatus(\"after\");\n    });\n\n    return () => {\n      socket.off(\"player_join_d\");\n      socket.off(\"get_random_dream_d\");\n      socket.off(\"guess_d\");\n      socket.off(\"all_guessed\");\n    };\n\n  }, [socket]);\n\n  // display\n  return (\n    <div className=\"App\" style={{whiteSpace: `pre-line`}}>\n\n      <h1>Name: {name}</h1>\n      <br></br>\n\n      <p>{textSection}</p>\n      <NameButtons name={name} playerJoin={playerJoin} status={status} start={start} guess={guess}/>\n      <br></br>\n\n      <h1>Players:</h1>\n      <div>\n        {players.map(item => {\n          return <div>{item}</div>;\n        })}\n      </div>\n      <h1>{dreamer}</h1>\n\n    </div>\n  );\n}\n\nexport default App;\n\n/*\n\n      <input \n        placeholder=\"Message...\" \n        onChange={(event) => {\n          setMessage(event.target.value);\n        }}\n      />\n      <button onClick={sendMessage}> Send Message</button>\n\n      <h1>Message:</h1>\n      {messageReceived}\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}